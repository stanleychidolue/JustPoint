{% extends "header.html" %}
{%load static%}
{% block content %}

<section class="top">
    <div class="row justify-content-center">
        <div class="col-md-6 col-sm-8 col-11">
            <div class="payment-container">
                <div class="">
                    <i style="color: var(--color-green);" class="bi bi-check-square-fill pay-success-check"></i>
                </div>

                <h4 style="color: var(--color-green);" class="payment-message items-category-font mt-0">Your Payment Was
                    Successful</h4>
                <p class="payment-message2 item-font">Delievery is on the way, thanks for your patronage.</p>


                <div class="address-container pt-0">
                    <h6 style="color: var(--color-green);font-weight: bolder;text-align: start;" class="mb-0">Delivery
                        Address:</h6>
                    <div style="font-size: small;" class="address-border px-1 py-1">
                        <div class="addressInfo">
                            <p style="font-size: small;" class="address mb-0 text-start">
                                {{delivery_address}}
                            </p>
                            <script>
                                function activateEditMode() {
                                    document.querySelector('.addressInfo').setAttribute('hidden', 'true');
                                    document.querySelector('.addressEdit').removeAttribute('hidden');
                                    let address = document.querySelector('.address').innerHTML;
                                    let input = document.querySelector('.addressEditInput');
                                    input.value = address.trim();
                                    input.focus();
                                }
                            </script>
                            <div class="justify-content-end d-flex me-2">
                                <button style="background-color: var(--color-primary); font-size: 11px;"
                                    onclick="activateEditMode() ">
                                    Change
                                </button>
                            </div>
                        </div>
                        <div class="addressEdit" hidden>
                            <form action="{% url 'edit-delivery-address' order_id %}" method="post">
                                {%csrf_token%}
                                <input style="border-color: var(--color-green); font-size: 0.75rem;" type="text"
                                    name="edited-address" class="form-control customer-name-input addressEditInput mb-1"
                                    spellcheck="false" required>
                                <div class="justify-content-end d-flex me-2">
                                    <button
                                        style="background-color: var(--color-primary); font-size: 11px;">Submit</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="pay-success-button">
                    <a class="text-decoration-none text-light" href="{% url 'home-page' %}">
                        <button style="background-color: var(--color-green);" type="button"
                            class="py-2 px-sm-3 px-2 airtime-btn item-font">
                            Back to Home Page
                        </button>
                    </a>
                    <a href="{% url 'user-order-history'  order_id %}">
                        <button type="button" class="payment-cta item-font success-btn">
                            View Order Details
                        </button>
                    </a>
                    <style>
                        .success-btn {
                            color: var(--color-green) !important;
                            border-color: var(--color-green) !important;
                        }

                        .success-btn:hover {
                            color: white !important;
                            background-color: var(--color-green) !important;
                        }
                    </style>
                </div>
            </div>
        </div>
    </div>


    <style>
        .address-container {
            width: 300px;
            padding: 10px;
            display: inline-block;

        }

        .address-border {
            border: 1.5px solid var(--color-green);
            /* height: 300px; */
        }
    </style>

</section>

{% endblock content%}